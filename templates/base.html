<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4A90E2',
                        secondary: '#50B5E9',
                        accent: '#25567B',
                        light: '#F5F8FB',
                    },
                    fontFamily: {
                        sans: ['Poppins', 'Roboto', 'sans-serif'],
                    },
                },
            },
        }
    </script>

    <title>{% block title %}Explora el Potencial y la Frecuencia de las Palabras{% endblock %}</title>
</head>

<body>
    <main class="container mx-auto px-4 py-6">
        {% block content %}
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
            <div class="flex flex-col items-center text-center bg-white shadow-md rounded-lg p-6 hover:shadow-lg transition">
                <a href="/opcion1" class="block w-full bg-blue-500 text-white py-3 rounded-lg shadow hover:bg-blue-600 transition">
                        Explorar Frecuencia Lógica de una Palabra
                    </a>
                <p class="mt-4 text-gray-600 text-sm">"Descubre cómo cada palabra resuena en su contexto, a través de su frecuencia numérica."</p>
            </div>
            <div class="flex flex-col items-center text-center bg-white shadow-md rounded-lg p-6 hover:shadow-lg transition">
                <a href="/opcion2" class="block w-full bg-green-500 text-white py-3 rounded-lg shadow hover:bg-green-600 transition">
                        Ralentizar Potencial en Expresión Concreta
                    </a>
                <p class="mt-4 text-gray-600 text-sm">"Convierte números abstractos en palabras, conectando con su despliegue lógico en el espacio-tiempo."</p>
            </div>
        </div>
        <div class="mt-10 grid grid-cols-1 sm:grid-cols-2 gap-6">
            <div class="bg-white shadow-md rounded-lg p-6 hover:shadow-lg transition">
                <h5 class="text-lg font-semibold text-blue-500">Potencial Calculado
                </h5>
                <p class="text-gray-700 mt-2">42</p>
            </div>
            <div class="bg-white shadow-md rounded-lg p-6 hover:shadow-lg transition">
                <h5 class="text-lg font-semibold text-blue-500">Frecuencia Encontrada
                </h5>
                <p class="text-gray-700 mt-2">88</p>
            </div>
        </div>
        <div class="history-section mt-6">
            <h3 class="text-lg font-semibold text-gray-900">Historial de Búsquedas
            </h3>
            <div class="bg-white shadow-md rounded-lg overflow-hidden">
                <ul class="divide-y divide-gray-200">
                    {% for item in historial %}
                    <li class="py-4 px-4 hover:bg-gray-50 transition">
                        <p class="text-gray-900">{{ item }}</p>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% endblock %}
    </main>

    <!-- Modal -->
    <div
        id="modal"
        class="fixed inset-0 bg-black/50 backdrop-blur hidden flex items-center justify-center z-50"
    >
        <div class="bg-white w-11/12 max-w-md rounded-lg shadow-lg p-6 text-center">
            <h3 id="modal-title" class="text-lg font-bold mb-4">¿Qué deseas buscar?</h3>
            <input
                id="user-input"
                type="text"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-500"
                placeholder="Ingresa aquí"
            />
            <div class="mt-6 flex justify-end gap-4">
                <button
                    onclick="submitInput()"
                    class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition"
                >
                    Confirmar
                </button>
                <button
                    onclick="closeModal()"
                    class="bg-gray-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-gray-600 transition"
                >
                    Cancelar
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        let selectedOption = null;

        // Mostrar el modal
        function showModal(option) {
            selectedOption = option;
            const modal = document.getElementById('modal');
            const title = document.getElementById('modal-title');
            const userInput = document.getElementById('user-input');

            // Configurar el título según la opción
            if (option === 1) {
                title.innerText = 'Ingresa la frecuencia';
                userInput.placeholder = 'Escribe un número';
            } else if (option === 2) {
                title.innerText = 'Ingresa la palabra o frase';
                userInput.placeholder = 'Escribe aquí';
            }

            modal.classList.remove('hidden');
            document.getElementById('menu-content').classList.add('blur-sm');
        }

        // Cerrar el modal
        function closeModal() {
            const modal = document.getElementById('modal');
            modal.classList.add('hidden');
            document.getElementById('menu-content').classList.remove('blur-sm');
        }

        // Manejar el envío de datos
        function submitInput() {
            const userInput = document.getElementById('user-input').value.trim();
            if (!userInput) {
                alert('Por favor, ingresa un valor válido.');
                return;
            }

            // Redirigir según la opción seleccionada
            if (selectedOption === 1) {
                window.location.href = `/resultado_opcion1?frecuencia=${encodeURIComponent(userInput)}`;
            } else if (selectedOption === 2) {
                window.location.href = `/resultado_opcion2?palabra=${encodeURIComponent(userInput)}`;
            }

            closeModal();
        }
    </script>
</body>

</html>